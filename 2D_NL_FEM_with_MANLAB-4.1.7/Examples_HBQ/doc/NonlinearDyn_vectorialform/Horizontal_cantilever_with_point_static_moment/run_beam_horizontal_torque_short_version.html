<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of run_beam_horizontal_torque_short_version</title>
  <meta name="keywords" content="run_beam_horizontal_torque_short_version">
  <meta name="description" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">NonlinearDyn_vectorialform</a> &gt; <a href="index.html">Horizontal_cantilever_with_point_static_moment</a> &gt; run_beam_horizontal_torque_short_version.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for NonlinearDyn_vectorialform\Horizontal_cantilever_with_point_static_moment&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>run_beam_horizontal_torque_short_version
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong></strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="horizontal_beam_torque_problem.html" class="code" title="function mds = horizontal_beam_problem()">horizontal_beam_torque_problem</a>	% Input definition</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 clear
0002 close all
0003 clc
0004 <span class="comment">%% Path of the SRC file.</span>
0005 addpath(genpath(<span class="string">'..\..\..\SRC'</span>));
0006 addpath(genpath(<span class="string">'..\..\NonlinearDyn_vectorialform'</span>));
0007 <span class="comment">%% FEM model definition</span>
0008 <span class="comment">% load the model data structure</span>
0009 mds = <a href="horizontal_beam_torque_problem.html" class="code" title="function mds = horizontal_beam_problem()">horizontal_beam_torque_problem</a>();
0010 <span class="comment">% create a new NL_2D_FEM model</span>
0011 model = NL_2D_FEM; 
0012 <span class="comment">% set up the model using the data structure</span>
0013 model = model.set_model_from_mds(mds);
0014 fig = figure; hold on
0015 Nmax=15;
0016 qs_full = model.vectors.null_vector;
0017 <span class="keyword">for</span> i=1:Nmax-1
0018     static_ponctual_force_node_list{1} = struct(<span class="string">'node'</span>, 2,<span class="string">'dof'</span>, [3],<span class="string">'amplitude'</span>, 7*i/Nmax ); <span class="comment">% Fx = -1 and Fy = 0 at node 2</span>
0019     model=model.update_static_loads(<span class="string">'ponctual'</span>, static_ponctual_force_node_list);
0020     qs_full = model.solve_static_problem(qs_full);
0021     model.plot_deformed_mesh(qs_full, fig, <span class="string">'-'</span>)
0022 <span class="keyword">end</span>
0023     
0024 keyboard
0025 <span class="comment">%% MANLAB LAUNCHING SEQUENCE</span>
0026 <span class="keyword">global</span> U Section Diagram   <span class="comment">% Global variables to export point from the diagram in GUI</span>
0027 <span class="comment">%% MANLAB INPUTS</span>
0028 H = 10;          <span class="comment">% number of harmonics for the Fourier series</span>
0029 <span class="comment">% type = 'autonomous'; % type of system (can be 'forced' or 'autonomous')</span>
0030 type = <span class="string">'forced'</span>; <span class="comment">% type of system (can be 'forced' or 'autonomous')</span>
0031 target_mode = 2; <span class="comment">% modeto be studied in NNM (autonomous) or in FRF (forced)</span>
0032 angfreq = <span class="string">'omega'</span>; <span class="comment">% 'omega' or constant value</span>
0033 <span class="comment">%% Use the model to initialise MANLAB computation automatically</span>
0034 <span class="comment">% MANLAB structure of parameters for equation.m</span>
0035 [nz, nz_aux, parameters] = model.set_MAN_parameters(H, type,  model, angfreq);
0036 <span class="comment">% Construct MANLAB system (matlab object)</span>
0037 sys = SystHBQ(nz,nz_aux,H,@equations_vector_NL_2D_FEM,@point_display,@global_display,parameters,type,<span class="string">'vectorial'</span>);
0038 <span class="comment">% compute static equilibrium, modal analysis and the MANLAB starting point</span>
0039 [U0, omega0, lambda0, qs_full, freq, shape] = model.initialise_MAN_computation(sys, type, target_mode);
0040 model.plot_static_configuration(qs_full);
0041 model.plot_mode_shape([1, 2, 3 5, 7], shape)
0042 <span class="comment">%%% Variable displayed in the projected bifurcation diagram (GUI).</span>
0043 dispvars = [sys.getcoord(<span class="string">'omega'</span>) sys.getcoord(<span class="string">'cos'</span>,1,1);  <span class="comment">% -&gt; sys.getcoord('sin', dof_index, harmonic_number)</span>
0044             sys.getcoord(<span class="string">'omega'</span>) sys.getcoord(<span class="string">'sin'</span>,1,1);
0045             sys.getcoord(<span class="string">'omega'</span>) sys.getcoord(<span class="string">'cos'</span>,2,1);
0046             sys.getcoord(<span class="string">'omega'</span>) sys.getcoord(<span class="string">'sin'</span>,2,1)];
0047 <span class="comment">%% Call the MANLAB GUI for numerical continuation of the problem w.r.t. Omega</span>
0048 Manlab(<span class="string">'sys'</span>       ,sys , <span class="keyword">...</span>
0049     <span class="string">'U0value'</span>         ,U0, <span class="keyword">...</span>
0050     <span class="string">'order'</span>           ,20, <span class="keyword">...</span><span class="comment">     % order of the series</span>
0051     <span class="string">'ANMthreshold'</span>    ,1e-10, <span class="keyword">...</span><span class="comment">   % threshold for the domain of validity of the series</span>
0052     <span class="string">'Amax_max'</span>        ,1e2, <span class="keyword">...</span><span class="comment">    % maximum value of the domain of validity of the series</span>
0053     <span class="string">'NRthreshold'</span>     ,1e-12, <span class="keyword">...</span><span class="comment">   % threshold for Newton-Raphson (NR) corrections</span>
0054     <span class="string">'NRitemax'</span>        ,50, <span class="keyword">...</span><span class="comment">     % Maximum number of iteration of NR algorithm</span>
0055     <span class="string">'NRstart'</span>         ,1, <span class="keyword">...</span><span class="comment">      % NR corrections for the user-defined starting point [on]/off</span>
0056     <span class="string">'NRmethod'</span>        ,0, <span class="keyword">...</span><span class="comment">      % NR corrections on/[off]</span>
0057     <span class="string">'BifDetection'</span>    ,1, <span class="keyword">...</span><span class="comment">      % Detection of bifurcation [on]/off</span>
0058     <span class="string">'PointDisplay'</span>    ,0, <span class="keyword">...</span><span class="comment">      % Point display [on]/off</span>
0059     <span class="string">'GlobalDisplay'</span>   ,0, <span class="keyword">...</span><span class="comment">      % Global display [on]/off</span>
0060     <span class="string">'StabilityCheck'</span>  ,0, <span class="keyword">...</span><span class="comment">      % Stability computation on/[off]</span>
0061     <span class="string">'StabTol'</span>         ,1e-6, <span class="keyword">...</span><span class="comment">   % Stability tolerance</span>
0062     <span class="string">'displayvariables'</span>,dispvars);     <span class="comment">% MANLAB run</span></pre></div>
<hr><address>Generated on Mon 17-Oct-2022 20:14:50 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>